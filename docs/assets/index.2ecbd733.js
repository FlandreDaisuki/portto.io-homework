import{p as e,a as t,r as a,w as s,c as n,o,b as l,d as r,t as i,e as c,f as u,g as d,h as m,i as p,F as v,j as k,k as f,l as g,v as b,m as h,n as w}from"./vendor.010bf879.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const s=new URL(e,location),n=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,o)=>{const l=new URL(e,s);if(self[t].moduleMap[l])return a(self[t].moduleMap[l]);const r=new Blob([`import * as m from '${l}';`,`${t}.moduleMap['${l}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){o(new Error(`Failed to import: ${e}`)),n(i)},onload(){a(self[t].moduleMap[l]),n(i)}});document.head.appendChild(i)})),self[t].moduleMap={}}}("/assets/");const L={props:{contractAddress:String,tokenId:String},emits:["back"],setup(e,{emit:t}){const o=a({});return s((async()=>{if(e.contractAddress&&e.tokenId){o.value={};const t=await(async({contractAddress:e,tokenId:t})=>{const a=`https://api.opensea.io/api/v1/asset/${e}/${t}?format=json`,s=await fetch(a,{mode:"cors"});return s.ok?{data:await s.json()}:{error:s}})(e);t.error||(o.value=t.data)}})),{item:o,title:n((()=>{var e,t,a;return null!=(a=null==(t=null==(e=o.value)?void 0:e.collection)?void 0:t.name)?a:""})),image:n((()=>{var e,t;return null!=(t=null==(e=o.value)?void 0:e.image_url)?t:""})),name:n((()=>{var e,t;return null!=(t=null==(e=o.value)?void 0:e.name)?t:""})),description:n((()=>{var e,t;return null!=(t=null==(e=o.value)?void 0:e.description)?t:""})),permalink:n((()=>{var e,t;return null!=(t=null==(e=o.value)?void 0:e.permalink)?t:""})),onBackClick:()=>t("back")}}},_=c();e("data-v-bb981c98");const y={class:"layout"};t();const j=_(((e,t,a,s,n,c)=>(o(),l("div",y,[r("header",null,[r("button",{class:"back",onClick:t[1]||(t[1]=(...e)=>s.onBackClick&&s.onBackClick(...e))}," ← "),r("h1",null,i(s.title),1)]),r("div",{class:"image",style:{backgroundImage:`url(${s.image})`}},null,4),r("div",null,i(s.name),1),r("div",null,i(s.description),1),r("a",{href:s.permalink,target:"_blank",role:"button",class:"block text-blue-800 text-xl"}," permalink ",8,["href"])]))));L.render=j,L.__scopeId="data-v-bb981c98";const P={emits:["details"],setup(e,{emit:t}){const s=a(0),n=u([]);d(s,(async e=>{console.log("pc",e);const t=await(async e=>{const t=`https://api.opensea.io/api/v1/assets?format=json&owner=0x960DE9907A2e2f5363646d48D7FB675Cd2892e91&limit=20&offset=${e}`,a=await fetch(t,{mode:"cors"});return a.ok?{data:(await a.json()).assets}:{error:a}})(e);t.error||n.push(...t.data)}),{immediate:!0});const o=a();m((()=>{const e={root:document,rootMargin:"300px",threshold:1},t=new IntersectionObserver((()=>{s.value+=1}),e);t.observe(document.querySelector("#footer")),o.value=t})),p((()=>{o.value.disconnect()}));return{items:n,openDetails:e=>{var a;const s=null==(a=null==e?void 0:e.asset_contract)?void 0:a.address,n=null==e?void 0:e.token_id;t("details",{contractAddress:s,tokenId:n})}}}},C=c();e("data-v-65d9549c");const D=r("h1",{class:"text-3xl"}," List ",-1),x={class:"grid-layout"},I=r("footer",{id:"footer"}," Loading... ",-1);t();const $=C(((e,t,a,s,n,c)=>(o(),l("div",null,[D,r("div",x,[(o(!0),l(v,null,k(s.items,(e=>(o(),l("figure",{key:e.id,onClick:t=>s.openDetails(e)},[r("img",{src:e.image_url,class:"object-contain h-48 w-full"},null,8,["src"]),r("figcaption",null,i(e.name),1)],8,["onClick"])))),128))]),I]))));P.render=$,P.__scopeId="data-v-65d9549c";const B={components:{DetailsPage:L,ListPage:P},setup(){const e=a(!0),t=a(null);d(t,(()=>{e.value=!t.value}));return{isListPage:e,detailProps:t,onDetailsClick:e=>{t.value=e}}}};B.render=function(e,t,a,s,n,i){const c=f("ListPage"),u=f("DetailsPage");return o(),l(v,null,[g(r(c,{onDetails:s.onDetailsClick},null,8,["onDetails"]),[[b,s.isListPage]]),g(r(u,h(s.detailProps,{onBack:t[1]||(t[1]=e=>s.isListPage=!0)}),null,16),[[b,!s.isListPage]])],64)};w(B).mount("#app");
